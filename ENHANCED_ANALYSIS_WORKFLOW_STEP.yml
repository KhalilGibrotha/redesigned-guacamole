# Add this step RIGHT AFTER the "Analyze Auto-fixes" step (around line 495)

- name: 🔍 Enhanced Super Linter Analysis
  if: always()
  id: enhanced-analysis
  run: |
    echo "::group::🔍 Enhanced Super Linter Analysis"

    # Ensure script is executable
    chmod +x scripts/enhanced_linter_analysis.py

    # Run enhanced analysis
    echo "🚀 Running enhanced code quality analysis..."
    python3 scripts/enhanced_linter_analysis.py

    echo "✅ Enhanced analysis completed"
    echo "::endgroup::"
  working-directory: ${{ github.workspace }}

- name: 📊 Analysis Artifacts
  if: always()
  uses: actions/upload-artifact@v4
  with:
    name: enhanced-analysis-results
    path: |
      analysis-results.json
    retention-days: 30
  continue-on-error: true
